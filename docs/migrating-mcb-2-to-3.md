## Step 1. install mc-build@3 from npm

MC-Build 3 can be installed from the same place as before, to update it you can simply overwrite the install of MC-Build 2 with MC-Build 3.

```bash
npm install mc-build@3
```

!!! note CLI Changes

    Previously running `mcb` would run the build process and watch for changes, not you must specify `mcb build` or `mcb watch` to run the build process or watch for changes respectively.

## Step 2. Updating old configuration files

The configuration options for MC-Build have changed, some options may have been removed or renamed. You will need to update your configuration files to match the new options.

| old key                          | new key                | suggested default                     | note                                                                                                                      |
| -------------------------------- | ---------------------- | ------------------------------------- | ------------------------------------------------------------------------------------------------------------------------- |
| mc.dev                           | N/A                    |                                       | property does not have an equivelent                                                                                      |
| mc.header                        | header                 | `"#This file was generated by mcb\n"` |                                                                                                                           |
| mc.internalScoreboard            | internalScoreboardName | `"mcb.internal"`                      | in thoery this is fine to leave as a default, it is likely best practice to change it to be pack specific though          |
| N/A                              | ioThreadCount          | 1                                     | The number of threads to use for IO operations, this is a new option and should be set to 1 for most use cases            |
| mc.rootNamespace                 | N/A                    |                                       | This option has been removed, use folders in the src folder to emulate the old behavior.                                  |
| global.preBuild,global.postBuild | setup                  | `null`                                | These options have changed slightly, see the [new configuration documentation](/docs/configuration) for more information. |
| mc-math.tempScoreboard           | TBD                    |                                       | This option has not yet been implimented, it will be added in a future release.                                           |
| mc-math.constScoreboard          | TBD                    |                                       | This option has not yet been implimented, it will be added in a future release.                                           |
| mc-extra.integrated              | N/A                    |                                       | This is now built into the language, this option has been removed.                                                        |

## Step 3. Updating your code

Some parts of the MC-Build language have changed, you will need to update your code to match the new syntax.

### Compile time loops

`!LOOP(min,max,variable)` has been updated to `REPEAT(min,max) as variable`
see the [REPEAT documentation](language-features/compile-repeat.md) for more information.

### Compile time if statements

`!IF(condition)` has been updated to `IF(condition)`, it now supports `ELSE` and `ELSE IF` statements.
see the [IF documentation](language-features/compile-if-else.md) for more information.

### runtime if statements

`execute(condition) {...}` has been updated to be an extension of execute blocks, see the [execute documentation](language-features/execute-run.md) for more information.

!!! example "Conditional Execution"
		execute if score @s appleCount matches 1 run {
			say I have 1 apple!
		} else execute if score @s appleCount matches 2 run {
			say I have 2 apples!
		} else run {
			say I have more than 2 apples!
		}

### runtime loops

`while`, and `until` as well as thier async variants have been removed as they can be implemented using the new `template` system.

### the `tick` and `load` functions.

Tick and Load functions are no longer based on name, you can now add a `tick` or `load` indicator to any function by adding `tick` or `load` after the function name.

`function tick {...}` would become `function tick tick {...}`

### macros

Macros don't have an exact 1-1 replacement, but you can use the new `template` system to achieve similar results, see the [templates documentation](language-features/templates.md) for more information on the new template system.



## mc-math and mc-extra

`lang-mc-extra` has been removed from MC-Build, the functionality of this modules has been integrated into the language itself.

`lang-mc-math` has been removed from MC-Build, the functionality of this module will be integrated into the language in a future release.